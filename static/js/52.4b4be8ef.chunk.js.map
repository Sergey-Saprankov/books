{"version":3,"file":"static/js/52.4b4be8ef.chunk.js","mappings":"uKACA,EAA2B,2B,iDCkC3B,EAxBiB,WACf,IAAMA,GAAWC,EAAAA,EAAAA,KACXC,GAAQC,EAAAA,EAAAA,IAAYC,EAAAA,IACpBC,GAAQF,EAAAA,EAAAA,IAAYG,EAAAA,IACpBC,GAAQJ,EAAAA,EAAAA,IAAYK,EAAAA,IAEpBC,GAAqBC,EAAAA,EAAAA,cAAY,WACrCV,GAASW,EAAAA,EAAAA,KAAU,IACnBX,GAASY,EAAAA,EAAAA,MACX,GAAG,CAACZ,IAEJ,OACEa,EAAAA,EAAAA,MAAA,WAASC,UAAWC,EAAWC,SAAA,EAC7BC,EAAAA,EAAAA,KAACC,EAAAA,GAAK,IACLhB,GAASG,EAAQH,EAAMiB,SACtBF,EAAAA,EAAAA,KAACG,EAAAA,EAAM,CAACC,QAASZ,EAAoBa,MAAOC,EAAAA,EAAAA,QAAoBP,SAAC,cAIlET,IAASU,EAAAA,EAAAA,KAACO,EAAAA,EAAY,CAACjB,MAAOA,MAGrC,C,yFChCA,EAA+B,mCAA/B,EAAyE,2BAAzE,EAAmH,mC,uBCWtGiB,GAAsCC,EAAAA,EAAAA,OAAK,SAAAC,GAAgC,IAADC,EAAAD,EAA5BZ,UAAAA,OAAS,IAAAa,EAAG,GAAEA,EAAEpB,EAAKmB,EAALnB,MACzEqB,GAAwBC,EAAAA,EAAAA,WAAS,GAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACdI,ECZD,SAAwBC,EAAUC,GACvC,IAAAR,GAA4CC,EAAAA,EAAAA,UAAYM,GAAML,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvDM,EAAcJ,EAAA,GAAEO,EAAiBP,EAAA,GAUxC,OARAQ,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQC,YAAW,kBAAMH,EAAkBF,EAAM,GAAEC,GAAS,KAElE,OAAO,WACLK,aAAaF,EACf,CACF,GAAG,CAACJ,EAAOC,IAEJF,CACT,CDAyBQ,CAAqBV,EAAM,MAElDM,EAAAA,EAAAA,YAAU,WACRL,GAAQ,EACV,GAAG,CAACC,IAEJ,IAAMS,GAAIC,EAAAA,EAAAA,GAAA,GACP7B,GAAUmB,GAGb,OACEjB,EAAAA,EAAAA,KAAA,OAAKH,WAAW+B,EAAAA,EAAAA,GAAW9B,EAAgB4B,EAAM,CAAC7B,IAAYE,UAC5DC,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAeC,UAC7BC,EAAAA,EAAAA,KAAA,QAAAD,SAAOT,OAIf,G","sources":["webpack://books/./src/pages/MainPage/ui/MainPage.module.scss?45b5","pages/MainPage/ui/MainPage.tsx","webpack://books/./src/shared/ui/ErrorMessage/ErrorMessage.module.scss?9d3c","shared/ui/ErrorMessage/ErrorMessage.tsx","shared/lib/hooks/useDebounce.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"MainPage\":\"MainPage_MainPage__+Gann\"};","import { useCallback } from 'react'\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport s from './MainPage.module.scss'\r\n\r\nimport { Books, getBooks, getError, getTotalBooks, setMarker, setPage } from 'entities/books'\r\nimport { useAppDispatch } from 'shared/lib/hooks/useAppDispatch'\r\nimport { Button, ButtonTheme } from 'shared/ui/Button/Button'\r\nimport { ErrorMessage } from 'shared/ui/ErrorMessage/ErrorMessage'\r\n\r\nconst MainPage = () => {\r\n  const dispatch = useAppDispatch()\r\n  const books = useSelector(getBooks)\r\n  const total = useSelector(getTotalBooks)\r\n  const error = useSelector(getError)\r\n\r\n  const onChangePagination = useCallback(() => {\r\n    dispatch(setMarker(true))\r\n    dispatch(setPage())\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <section className={s.MainPage}>\r\n      <Books />\r\n      {books && total > books.length && (\r\n        <Button onClick={onChangePagination} theme={ButtonTheme.Primary}>\r\n          Show more\r\n        </Button>\r\n      )}\r\n      {error && <ErrorMessage error={error} />}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default MainPage\r\n","// extracted by mini-css-extract-plugin\nexport default {\"ErrorMessage\":\"ErrorMessage_ErrorMessage__wAamc\",\"hide\":\"ErrorMessage_hide__04111\",\"innerWrapper\":\"ErrorMessage_innerWrapper__ohpjp\"};","import React, { FC, memo, useEffect, useState } from 'react'\r\n\r\nimport s from './ErrorMessage.module.scss'\r\n\r\nimport { classNames } from 'shared/lib/classNames/classNames'\r\nimport { useDebounce } from 'shared/lib/hooks/useDebounce'\r\n\r\ninterface ErrorMessageProps {\r\n  className?: string\r\n  error: string\r\n}\r\n\r\nexport const ErrorMessage: FC<ErrorMessageProps> = memo(({ className = '', error }) => {\r\n  const [hide, setHide] = useState(true)\r\n  const debouncedValue = useDebounce<boolean>(hide, 5000)\r\n\r\n  useEffect(() => {\r\n    setHide(false)\r\n  }, [debouncedValue])\r\n\r\n  const mods = {\r\n    [s.hide]: !debouncedValue,\r\n  }\r\n\r\n  return (\r\n    <div className={classNames(s.ErrorMessage, mods, [className])}>\r\n      <div className={s.innerWrapper}>\r\n        <span>{error}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n","import { useEffect, useState } from 'react'\r\n\r\nexport function useDebounce<T>(value: T, delay?: number): T {\r\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setDebouncedValue(value), delay || 500)\r\n\r\n    return () => {\r\n      clearTimeout(timer)\r\n    }\r\n  }, [value, delay])\r\n\r\n  return debouncedValue\r\n}\r\n"],"names":["dispatch","useAppDispatch","books","useSelector","getBooks","total","getTotalBooks","error","getError","onChangePagination","useCallback","setMarker","setPage","_jsxs","className","s","children","_jsx","Books","length","Button","onClick","theme","ButtonTheme","ErrorMessage","memo","_ref","_ref$className","_useState","useState","_useState2","_slicedToArray","hide","setHide","debouncedValue","value","delay","setDebouncedValue","useEffect","timer","setTimeout","clearTimeout","useDebounce","mods","_defineProperty","classNames"],"sourceRoot":""}