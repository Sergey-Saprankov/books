{"version":3,"file":"static/js/834.bb226365.chunk.js","mappings":"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","sources":["shared/assets/icon/arrow-left.svg","webpack://books/./src/pages/BookPage/ui/BookPage.module.scss?f899","pages/BookPage/ui/BookPage.tsx","webpack://books/./src/shared/ui/ErrorMessage/ErrorMessage.module.scss?9d3c","shared/ui/ErrorMessage/ErrorMessage.tsx","shared/lib/hooks/useDebounce.ts"],"sourcesContent":["var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgArrowLeft(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M15 8C15 7.72386 14.7761 7.5 14.5 7.5L2.70711 7.5L5.85355 4.35355C6.04882 4.15829 6.04882 3.84171 5.85355 3.64645C5.65829 3.45118 5.34171 3.45118 5.14645 3.64645L1.14645 7.64645C0.951184 7.84171 0.951184 8.15829 1.14645 8.35355L5.14645 12.3536C5.34171 12.5488 5.65829 12.5488 5.85355 12.3536C6.04882 12.1583 6.04882 11.8417 5.85355 11.6464L2.70711 8.5H14.5C14.7761 8.5 15 8.27614 15 8Z\",\n    fill: \"black\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowLeft);\nexport default __webpack_public_path__ + \"static/media/arrow-left.cc886459877289bb0f30b01ea8f1cc7c.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"BookPage\":\"BookPage_BookPage__8USRg\",\"innerWrapper\":\"BookPage_innerWrapper__1x1dA\",\"block\":\"BookPage_block__HImYC\",\"coverBlock\":\"BookPage_coverBlock__DwNEi\",\"informationBlock\":\"BookPage_informationBlock__DN+We\",\"description\":\"BookPage_description__+2Sy-\",\"titleBlock\":\"BookPage_titleBlock__tH-nN\",\"underline\":\"BookPage_underline__-zdiz\",\"btn\":\"BookPage_btn__kDiQW\"};","import { useEffect } from 'react'\r\n\r\nimport { Simulate } from 'react-dom/test-utils'\r\nimport { useSelector } from 'react-redux'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\n\r\nimport { getBook } from '../model/selectors/getBook/getBook'\r\nimport { getError } from '../model/selectors/getError/getError'\r\nimport { getIsLoading } from '../model/selectors/getIsLoading/getIsLoading'\r\n\r\nimport s from './BookPage.module.scss'\r\n\r\nimport { fetchCurrentBook } from 'pages/BookPage/model/services/fetchCurrentBook'\r\nimport { ReactComponent as Arrow } from 'shared/assets/icon/arrow-left.svg'\r\nimport { API_KEY } from 'shared/lib/const/apiKey'\r\nimport { useAppDispatch } from 'shared/lib/hooks/useAppDispatch'\r\nimport { Button, ButtonTheme } from 'shared/ui/Button/Button'\r\nimport { ErrorMessage } from 'shared/ui/ErrorMessage/ErrorMessage'\r\nimport { Image } from 'shared/ui/Image/Image'\r\nimport { Loader } from 'shared/ui/Loader/Loader'\r\nimport { Text, TextTheme } from 'shared/ui/Text/Text'\r\n\r\nconst BookPage = () => {\r\n  const dispatch = useAppDispatch()\r\n  const navigate = useNavigate()\r\n  const { id } = useParams<{ id: string }>()\r\n  const book = useSelector(getBook)\r\n  const isLoading = useSelector(getIsLoading)\r\n  const error = useSelector(getError)\r\n\r\n  useEffect(() => {\r\n    if (!id) return\r\n    dispatch(fetchCurrentBook({ id, key: API_KEY }))\r\n  }, [id])\r\n\r\n  const { volumeInfo } = book\r\n  const src = volumeInfo.imageLinks?.thumbnail || ''\r\n  const alt = volumeInfo.description || ''\r\n  const author = volumeInfo.authors ? volumeInfo.authors.join(' ') : ''\r\n  const category = volumeInfo.categories ? volumeInfo.categories.join(' ') : ''\r\n  const title = volumeInfo.title || ''\r\n\r\n  if (!id) return null\r\n\r\n  return (\r\n    <section className={s.BookPage}>\r\n      {isLoading && <Loader />}\r\n      <Button onClick={() => navigate(-1)} className={s.btn} theme={ButtonTheme.Clear}>\r\n        <Arrow />\r\n        <span>Back to Main Page</span>\r\n      </Button>\r\n      <div className={s.innerWrapper}>\r\n        <div className={s.block}>\r\n          <div className={s.coverBlock}>\r\n            {<Image src={src} alt={alt} width={'280px'} height={'auto'} />}\r\n          </div>\r\n        </div>\r\n        <div className={s.block}>\r\n          <div className={s.informationBlock}>\r\n            <Text text={category} theme={TextTheme.Primary} />\r\n            <div className={s.titleBlock}>\r\n              <Text title={title} theme={TextTheme.Primary} />\r\n              <Text className={s.underline} text={author} theme={TextTheme.Primary} />\r\n            </div>\r\n            {alt && (\r\n              <div className={s.description}>\r\n                <Text text={alt} theme={TextTheme.Primary} />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {error && <ErrorMessage error={error} />}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default BookPage\r\n","// extracted by mini-css-extract-plugin\nexport default {\"ErrorMessage\":\"ErrorMessage_ErrorMessage__wAamc\",\"hide\":\"ErrorMessage_hide__04111\",\"innerWrapper\":\"ErrorMessage_innerWrapper__ohpjp\"};","import React, { FC, memo, useEffect, useState } from 'react'\r\n\r\nimport s from './ErrorMessage.module.scss'\r\n\r\nimport { classNames } from 'shared/lib/classNames/classNames'\r\nimport { useDebounce } from 'shared/lib/hooks/useDebounce'\r\n\r\ninterface ErrorMessageProps {\r\n  className?: string\r\n  error: string\r\n}\r\n\r\nexport const ErrorMessage: FC<ErrorMessageProps> = memo(({ className = '', error }) => {\r\n  const [hide, setHide] = useState(true)\r\n  const debouncedValue = useDebounce<boolean>(hide, 5000)\r\n\r\n  useEffect(() => {\r\n    setHide(false)\r\n  }, [debouncedValue])\r\n\r\n  const mods = {\r\n    [s.hide]: !debouncedValue,\r\n  }\r\n\r\n  return (\r\n    <div className={classNames(s.ErrorMessage, mods, [className])}>\r\n      <div className={s.innerWrapper}>\r\n        <span>{error}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n","import { useEffect, useState } from 'react'\r\n\r\nexport function useDebounce<T>(value: T, delay?: number): T {\r\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setDebouncedValue(value), delay || 500)\r\n\r\n    return () => {\r\n      clearTimeout(timer)\r\n    }\r\n  }, [value, delay])\r\n\r\n  return debouncedValue\r\n}\r\n"],"names":["_path","_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowLeft","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","fillRule","clipRule","d","ForwardRef","_volumeInfo$imageLink","dispatch","useAppDispatch","navigate","useNavigate","useParams","book","useSelector","getBook","isLoading","getIsLoading","error","getError","useEffect","fetchCurrentBook","API_KEY","volumeInfo","src","imageLinks","thumbnail","alt","description","author","authors","join","category","categories","_jsxs","className","s","children","_jsx","Loader","Button","onClick","theme","ButtonTheme","Arrow","Image","Text","text","TextTheme","ErrorMessage","memo","_ref$className","_useState","useState","_useState2","_slicedToArray","hide","setHide","debouncedValue","value","delay","setDebouncedValue","timer","setTimeout","clearTimeout","useDebounce","mods","_defineProperty","classNames"],"sourceRoot":""}